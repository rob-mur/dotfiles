{config, ...}: let
in {
  home-manager = {
    users.${config.name} = {
      xdg = {
        configFile = {
          "mimeapps.list".force = true;
        };
        mimeApps = let
          discord = "discord.desktop";
          vesktop = "vesktop.desktop";
          gimp = "gimp.desktop";
          helix = "Helix.desktop";
          imv = "imv.desktop";
          swayimg = "swayimg.desktop";
          inkscape = "org.inkscape.Inkscape.desktop";
          krita = "krita_psd.desktop";
          mpv = "mpv.desktop";
          neovim = "nvim.desktop";
          pcmanfm = "pcmanfm.desktop";
          vivaldi = "org.vivaldi.vivaldi.desktop";
          zathura = "org.pwmt.zathura.desktop";
        in {
          enable = true;
          associations.added = {
            "application/pdf" = [zathura];
            "application/vnd.ms-publisher" = [helix neovim];
            "application/x-extension-htm" = [vivaldi];
            "application/x-extension-html" = [vivaldi];
            "application/x-extension-shtml" = [vivaldi];
            "application/x-extension-xht" = [vivaldi];
            "application/x-extension-xhtml" = [vivaldi];
            "application/xhtml+xml" = [vivaldi];
            "application/xml" = [helix neovim];
            "audio/aac" = [mpv];
            "audio/flac" = [mpv];
            "audio/mp4" = [mpv];
            "audio/mpeg" = [mpv];
            "audio/ogg" = [mpv];
            "audio/vorbis" = [mpv];
            "audio/x-wav" = [mpv];
            "image/gif" = [imv swayimg];
            "image/jpeg" = [imv swayimg];
            "image/png" = [imv swayimg];
            "image/svg+xml" = [inkscape];
            "image/vnd.adobe.photoshop" = [krita];
            "image/webp" = [imv swayimg];
            "image/x-eps" = [inkscape];
            "image/x-xcf" = [gimp];
            "inode/directory" = [pcmanfm];
            "text/html" = [vivaldi];
            "text/markdown" = [helix neovim];
            "text/plain" = [helix neovim];
            "text/uri-list" = [vivaldi];
            "video/mp4" = [mpv];
            "video/ogg" = [mpv];
            "video/webm" = [mpv];
            "video/x-flv" = [mpv];
            "video/x-matroska" = [mpv];
            "video/x-ms-wmv" = [mpv];
            "video/x-ogm+ogg" = [mpv];
            "video/x-theora+ogg" = [mpv];
            "x-scheme-handler/about" = [vivaldi];
            "x-scheme-handler/chrome" = [vivaldi];
            "x-scheme-handler/discord" = [vesktop discord];
            "x-scheme-handler/ftp" = [vivaldi];
            "x-scheme-handler/http" = [vivaldi];
            "x-scheme-handler/https" = [vivaldi];
            "x-scheme-handler/unknown" = [vivaldi];
          };
          defaultApplications = {
            "application/pdf" = [zathura];
            "application/vnd.ms-publisher" = [helix neovim];
            "application/x-extension-htm" = [vivaldi];
            "application/x-extension-html" = [vivaldi];
            "application/x-extension-shtml" = [vivaldi];
            "application/x-extension-xht" = [vivaldi];
            "application/x-extension-xhtml" = [vivaldi];
            "application/xhtml+xml" = [vivaldi];
            "application/xml" = [helix neovim];
            "audio/aac" = [mpv];
            "audio/flac" = [mpv];
            "audio/mp4" = [mpv];
            "audio/mpeg" = [mpv];
            "audio/ogg" = [mpv];
            "audio/vorbis" = [mpv];
            "audio/x-wav" = [mpv];
            "image/gif" = [imv swayimg];
            "image/jpeg" = [imv swayimg];
            "image/png" = [imv swayimg];
            "image/svg+xml" = [inkscape];
            "image/vnd.adobe.photoshop" = [krita];
            "image/webp" = [imv swayimg];
            "image/x-eps" = [inkscape];
            "image/x-xcf" = [gimp];
            "inode/directory" = [pcmanfm];
            "text/html" = [vivaldi];
            "text/markdown" = [helix neovim];
            "text/plain" = [helix neovim];
            "text/uri-list" = [vivaldi];
            "video/mp4" = [mpv];
            "video/ogg" = [mpv];
            "video/webm" = [mpv];
            "video/x-flv" = [mpv];
            "video/x-matroska" = [mpv];
            "video/x-ms-wmv" = [mpv];
            "video/x-ogm+ogg" = [mpv];
            "video/x-theora+ogg" = [mpv];
            "x-scheme-handler/about" = [vivaldi];
            "x-scheme-handler/chrome" = [vivaldi];
            "x-scheme-handler/discord" = [vesktop discord];
            "x-scheme-handler/ftp" = [vivaldi];
            "x-scheme-handler/http" = [vivaldi];
            "x-scheme-handler/https" = [vivaldi];
            "x-scheme-handler/unknown" = [vivaldi];
          };
        };
      };
    };
  };
}
